{"version":3,"sources":["hoc/withAuthRedirect.js","components/Users/User/User.module.css","components/global/Paginator/Paginator.module.css","components/Users/Users.module.css","components/Users/User/User.jsx","assets/sliderArr.png","components/global/Paginator/Paginator.js","components/Users/UsersPresent.jsx","redux/selectors/users_selectors.js","components/Users/UsersContainer.jsx"],"names":["mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","User","className","s","user","user__body","user__avatarBlock","link","user__avatar","src","avatar","alt","user__infoBlock","user__main","user__nameLink","user__name","name","user__status","status","isfollow","type","user__button","disabled","isDisabled","some","id","onClick","unfollowThunk","followThunk","user__right","user__country","user__city","Paginator","activePage","totalItemsCount","pageSize","clickActivePage","maxbaselight","pagesCount","Math","ceil","base1","tс_start","tс_finish","pages","push","paginnation","button","buttonLeft","arrow","map","page","paginpage","active","UsersPresent","users","body","totalUsersCount","userList","mapUsers","getUsersUsers","getUsersPageSize","getUsersTotalUsersCount","getUsersActivePage","getUsersIsfetching","isfetching","getUsersIsDisabled","getUsersMaxbaselight","UsersApi","getUsersActivePageThunk","u","adress","photos","large","small","followed","getUsersThunk","compose"],"mappings":"mOAIIA,EAAkB,SAACC,GAAD,MAAW,CAChCC,OAAQD,EAAME,KAAKD,SAGPE,EAAmB,SAACC,GAAc,IAExCC,EAFwC,4JAG7C,WACC,OAAIC,KAAKC,MAAMN,OACR,cAACG,EAAD,eAAeE,KAAKC,QADG,cAAC,IAAD,CAAUC,GAAI,eAJA,GAEdC,IAAML,WAQtC,OAF0BM,YAAQX,EAARW,CAAyBL,K,oBCfpDM,EAAOC,QAAU,CAAC,KAAO,mBAAmB,WAAa,yBAAyB,kBAAoB,gCAAgC,aAAe,2BAA2B,gBAAkB,8BAA8B,WAAa,yBAAyB,eAAiB,6BAA6B,WAAa,yBAAyB,aAAe,2BAA2B,aAAe,2BAA2B,YAAc,0BAA0B,cAAgB,4BAA4B,WAAa,2B,oBCA/gBD,EAAOC,QAAU,CAAC,YAAc,+BAA+B,UAAY,6BAA6B,OAAS,0BAA0B,OAAS,0BAA0B,WAAa,gC,oBCA3LD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,KAAO,oBAAoB,SAAW,wBAAwB,OAAS,wB,6HCsCvGC,EApCJ,SAACN,GACV,OACE,oBAAIO,UAAWC,IAAEC,KAAjB,SACE,sBAAKF,UAAWC,IAAEE,WAAlB,UACE,qBAAKH,UAAWC,IAAEG,kBAAlB,SACE,cAAC,IAAD,CAASV,GAAID,EAAMY,KAAML,UAAWC,IAAEK,aAAtC,SACE,qBAAKC,IAAKd,EAAMe,OAAQC,IAAI,SAGhC,sBAAKT,UAAWC,IAAES,gBAAlB,UACE,sBAAKV,UAAWC,IAAEU,WAAlB,UACE,cAAC,IAAD,CAASjB,GAAID,EAAMY,KAAML,UAAWC,IAAEW,eAAtC,SACE,qBAAKZ,UAAWC,IAAEY,WAAlB,SAA+BpB,EAAMqB,SAEvC,qBAAKd,UAAWC,IAAEc,aAAlB,SAAiCtB,EAAMuB,SAE/CvB,EAAMwB,SACN,wBAAQC,KAAK,SAASlB,UAAWC,IAAEkB,aAAcC,SAAU3B,EAAM4B,WAAWC,MAAK,SAAAC,GAAE,OAAIA,IAAO9B,EAAM8B,MAAKC,QAAU,WAClH/B,EAAMgC,cAAchC,EAAM8B,KAD3B,sBAIA,wBAAQL,KAAK,SAASlB,UAAWC,IAAEkB,aAAcC,SAAU3B,EAAM4B,WAAWC,MAAK,SAAAC,GAAE,OAAIA,IAAO9B,EAAM8B,MAAKC,QAAU,WAClH/B,EAAMiC,YAAYjC,EAAM8B,KADzB,uBAMM,sBAAKvB,UAAWC,IAAE0B,YAAlB,UACE,qBAAK3B,UAAWC,IAAE2B,cAAlB,SAAkC,yBAClC,qBAAK5B,UAAWC,IAAE4B,WAAlB,SAA+B,kC,kCChC5B,MAA0B,sCCE5BC,EAAY,SAAC,GAyBzB,IAzB0G,IAAhFC,EAA+E,EAA/EA,WAAYC,EAAmE,EAAnEA,gBAAiBC,EAAkD,EAAlDA,SAAUC,EAAwC,EAAxCA,gBAAwC,IAAvBC,oBAAuB,MAAR,GAAQ,EACrGC,EAAaC,KAAKC,KAAKN,EAAgBC,GAErCM,EAAQF,KAAKC,KAAKH,EAAa,GAmBjCK,EAdHT,GAAaQ,EAAkB,EAAcR,EAAaQ,EAevDE,EATAV,GAAcK,EAAaG,EAC7BR,GAAaQ,EAAmBJ,EAA0BJ,EAAaQ,EAE5DH,EAOTM,EAAQ,GACEF,GAAWC,EAAWD,IACpCE,EAAMC,KAAKH,GAEX,OACA,sBAAKxC,UAAWC,IAAE2C,YAAlB,UACEb,EAAY,EACb,wBAAQb,KAAK,SAASlB,UAAWC,IAAE4C,OAAQ,IAAK5C,IAAE6C,WAAatB,QAAS,WAAMU,EAAgBH,EAAW,IAAzG,SACC,qBAAKxB,IAAKwC,EAAOtC,IAAI,OAEpB,KAEDiC,EAAMM,KAAI,SAAAC,GACV,OAAO,sBAAMjD,UAAW+B,IAAekB,EAAOhD,IAAEiD,UAAW,IAAKjD,IAAEkD,OAASlD,IAAEiD,UAAsB1B,QAAS,WAAMU,EAAgBe,IAA3H,SAAoIA,GAA9CA,MAE7FlB,EAAaK,EACd,wBAAQlB,KAAK,SAASlB,UAAWC,IAAE4C,OAASrB,QAAS,WAAMU,EAAgBH,EAAW,IAAtF,SACC,qBAAKxB,IAAKwC,EAAOtC,IAAI,OAEpB,S,kBCnBW2C,EAtBI,SAAC3D,GACnB,OACC,qBAAKO,UAAWC,IAAEoD,MAAlB,SACE,sBAAKrD,UAAWC,IAAEqD,KAAlB,UAEC,cAAC,EAAD,CACCvB,WAAYtC,EAAMsC,WACpBC,gBAAiBvC,EAAM8D,gBACvBtB,SAAUxC,EAAMwC,SAChBC,gBAAiBzC,EAAMyC,gBACvBC,aAAc1C,EAAM0C,eAErB,oBAAInC,UAAWC,IAAEuD,SAAjB,SACG/D,EAAMgE,aAET,wBAAQvC,KAAK,SAASlB,UAAWC,IAAE4C,OAAnC,6B,yBClBUa,EAAgB,SAACxE,GAC7B,OAAOA,EAAMmE,MAAMA,OAEPM,EAAmB,SAACzE,GAChC,OAAOA,EAAMmE,MAAMpB,UAEP2B,EAA0B,SAAC1E,GACvC,OAAOA,EAAMmE,MAAME,iBAEPM,EAAqB,SAAC3E,GAClC,OAAOA,EAAMmE,MAAMtB,YAEP+B,EAAqB,SAAC5E,GAClC,OAAOA,EAAMmE,MAAMU,YAEPC,EAAqB,SAAC9E,GAClC,OAAOA,EAAMmE,MAAMhC,YAEP4C,EAAuB,SAAC/E,GACpC,OAAOA,EAAMmE,MAAMlB,cCRd+B,E,4MACL9B,WAAaC,KAAKC,KAAK,EAAK7C,MAAMuC,gBAAgB,EAAKvC,MAAMwC,U,EAI7DC,gBAAkB,SAACe,GACfA,EAAK,GACLA,EAAK,EAAKb,YACb,EAAK3C,MAAM0E,wBAAwBlB,EAAM,EAAKxD,MAAMwC,W,EAErDwB,SAAW,WACT,OAAO,EAAKhE,MAAM4D,MAAML,KAAI,SAACoB,GAC5B,OAAO,cAAC,EAAD,CAER7C,GAAI6C,EAAE7C,GACNT,KAAMsD,EAAEtD,KACRE,OAAQoD,EAAEpD,OACVqD,OAAQ,WACR7D,OACoB,MAAlB4D,EAAEE,OAAOC,MACRH,EAAEE,OAAOE,MACT,0CAEHvD,SAAUmD,EAAEK,SACZpE,KAAM,YAAc+D,EAAE7C,GACtBF,WAAY,EAAK5B,MAAM4B,WACvBI,cAAe,EAAKhC,MAAMgC,cAC1BC,YAAa,EAAKjC,MAAMiC,aAdnB0C,EAAE7C,Q,uDAXT,WACC/B,KAAKC,MAAMiF,cAAclF,KAAKC,MAAMsC,WAAYvC,KAAKC,MAAMwC,Y,oBA6B5D,WACE,OAAO,qCACLzC,KAAKC,MAAMsE,WACb,cAAC,IAAD,IACI,KACL,cAAC,EAAD,CACGN,SAAUjE,KAAKiE,SACfvB,gBAAiB1C,KAAK0C,gBACtBH,WAAYvC,KAAKC,MAAMsC,WACvBwB,gBAAiB/D,KAAKC,MAAM8D,gBAC5BtB,SAAUzC,KAAKC,MAAMwC,SACrBZ,WAAY7B,KAAKC,MAAM4B,WACvBc,aAAc3C,KAAKC,MAAM0C,sB,GA5CPxC,IAAML,WA4DdqF,sBAAQ/E,aAVD,SAACV,GAAD,MAAW,CAC/BmE,MAAOK,EAAcxE,GACrB+C,SAAU0B,EAAiBzE,GAC3BqE,gBAAiBK,EAAwB1E,GACzC6C,WAAY8B,EAAmB3E,GAC/B6E,WAAYD,EAAmB5E,GAC/BmC,WAAY2C,EAAmB9E,GAC/BiD,aAAc8B,EAAqB/E,MAGW,CAC/CwF,kBACAP,4BACA1C,kBACAC,kBACGrC,IALWsF,CAKOT","file":"static/js/6.bd4900b6.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Navigate } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToProps = (state) =>({\r\n\tisAuth: state.auth.isAuth,\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n/* HOC оборачивает переданную в него кампаненту и выплевывает обратно */\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender(){\r\n\t\t\tif(!this.props.isAuth) return <Navigate to={\"/login\"}/>\r\n\t\t\treturn <Component {...this.props}/>\r\n\t\t}\r\n\t}\r\n\tlet ConnectAuthRedirect = connect(mapStateToProps)(RedirectComponent);\r\n\r\n\treturn ConnectAuthRedirect; /* Возвращать она может хоть папу Римского это имя не будет нами использоваться */\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__3kTYa\",\"user__body\":\"User_user__body__3eSdN\",\"user__avatarBlock\":\"User_user__avatarBlock__2ReP4\",\"user__avatar\":\"User_user__avatar__3Xqwo\",\"user__infoBlock\":\"User_user__infoBlock__3se1_\",\"user__main\":\"User_user__main__2VTfD\",\"user__nameLink\":\"User_user__nameLink__2lFtV\",\"user__name\":\"User_user__name__3f8TN\",\"user__status\":\"User_user__status__29kyV\",\"user__button\":\"User_user__button__5tBfh\",\"user__right\":\"User_user__right__2b5A3\",\"user__country\":\"User_user__country__35UiA\",\"user__city\":\"User_user__city__2Sbex\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginnation\":\"Paginator_paginnation__2o6_7\",\"paginpage\":\"Paginator_paginpage__3Q0Ao\",\"active\":\"Paginator_active__Lif0B\",\"button\":\"Paginator_button__3mntG\",\"buttonLeft\":\"Paginator_buttonLeft__t35pH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__kkr84\",\"body\":\"Users_body__3AtbX\",\"userList\":\"Users_userList__2fZaK\",\"button\":\"Users_button__3BEyU\"};","import { NavLink } from \"react-router-dom\";\r\nimport s from \"./User.module.css\";\r\n\r\nlet User = (props) => {\r\n  return (\r\n    <li className={s.user}>\r\n      <div className={s.user__body}>\r\n        <div className={s.user__avatarBlock}>\r\n          <NavLink to={props.link} className={s.user__avatar}>\r\n            <img src={props.avatar} alt=\"\" />\r\n          </NavLink>\r\n        </div>\r\n        <div className={s.user__infoBlock}>\r\n          <div className={s.user__main}>\r\n            <NavLink to={props.link} className={s.user__nameLink}>\r\n              <div className={s.user__name}>{props.name}</div>\r\n            </NavLink>\r\n            <div className={s.user__status}>{props.status}</div>\r\n\t\t\t{\r\n\t\t\t\tprops.isfollow ? \r\n\t\t\t\t<button type=\"button\" className={s.user__button} disabled={props.isDisabled.some(id => id === props.id)} onClick={(() => {\r\n\t\t\t\t\tprops.unfollowThunk(props.id)\r\n\t\t\t\t})}>UnFollow</button> :\r\n\r\n\t\t\t\t<button type=\"button\" className={s.user__button} disabled={props.isDisabled.some(id => id === props.id)} onClick={(() => {\r\n\t\t\t\t\tprops.followThunk(props.id)\r\n\t\t\t\t})}>Follow</button>\r\n\t\t\t}\r\n\t\t\t\r\n          </div>\r\n          <div className={s.user__right}>\r\n            <div className={s.user__country}>{\"props.adress.country\"}</div>\r\n            <div className={s.user__city}>{\"props.adress.city\"}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\nexport default User;\r\n","export default __webpack_public_path__ + \"static/media/sliderArr.c646b6d4.png\";","import s from \"./Paginator.module.css\";\r\nimport arrow from \"../../../assets/sliderArr.png\";\r\nexport const Paginator = ({activePage, totalItemsCount, pageSize, clickActivePage, maxbaselight = 10}) => {\r\n\tlet pagesCount = Math.ceil(totalItemsCount/pageSize);\r\n\r\n\tconst base1 = Math.ceil(maxbaselight/2);\r\n\tlet t_start = 1\r\n\tlet t_finish = 20\r\n\tlet pagesOrderingStart = (t_start) =>{\r\n\t\t/* считаем точку начала цикла относительно активоной страницы */\r\n\t\tactivePage <=base1 ? t_start = 1 : t_start = activePage - base1;\r\n\t\treturn t_start;\r\n\t}\r\n\tlet pagesOrderingFinish = (t_finish) =>{\r\n\t\t/* считаем конечную точку цикла в зависимости от активной страницы */\r\n\t\t/* считаем номер конечной страницы и исходим из него */\r\n\t\tif(activePage <= pagesCount - base1){\r\n\t\t\tactivePage <=base1 ? t_finish = maxbaselight : t_finish = activePage + base1\r\n\t\t} else {\r\n\t\t\tt_finish = pagesCount\r\n\t\t}\r\n\t\treturn t_finish;\r\n\t}\r\n\t//todo Формирование массива страниц\r\n\tlet tс_start = pagesOrderingStart(t_start);\r\n\tlet tс_finish = pagesOrderingFinish(t_finish);\r\n\tlet pages = [];\r\n\tfor(tс_start; tс_start <=tс_finish; tс_start++){\r\n\tpages.push(tс_start);\r\n\t}\r\n\treturn (\r\n\t<div className={s.paginnation}>\r\n\t\t{activePage >1 ?\r\n\t\t<button type=\"button\" className={s.button +\" \"+ s.buttonLeft}  onClick={() =>{clickActivePage(activePage-1)}}>\r\n\t\t\t<img src={arrow} alt=\"\"/>\r\n\t\t</button>\r\n\t\t: null\r\n\t\t}\r\n\t\t{pages.map(page => {\r\n\t\t\treturn <span className={activePage === page ? s.paginpage +\" \"+ s.active : s.paginpage} key={page} onClick={() =>{clickActivePage(page)}}>{page}</span>\r\n\t\t})}\r\n\t\t{activePage < pagesCount ?\r\n\t\t<button type=\"button\" className={s.button}  onClick={() =>{clickActivePage(activePage+1)}}>\r\n\t\t\t<img src={arrow} alt=\"\"/>\r\n\t\t</button>\r\n\t\t: null\r\n\t\t}\r\n\t</div>\r\n\t)\r\n};","/* Презентационная компонента */\r\nimport { Paginator } from \"../global/Paginator/Paginator\";\r\nimport s from \"./Users.module.css\";\r\n\r\nlet UsersPresent = (props) => {\r\n\treturn (\r\n\t\t<div className={s.users}>\r\n\t\t  <div className={s.body}>\r\n\t\t\t  {/* вынесена в отдельный файл*/}\r\n\t\t\t  <Paginator \r\n\t\t\t  \tactivePage={props.activePage}\r\n\t\t\t\ttotalItemsCount={props.totalUsersCount}\r\n\t\t\t\tpageSize={props.pageSize}\r\n\t\t\t\tclickActivePage={props.clickActivePage}\r\n\t\t\t\tmaxbaselight={props.maxbaselight}\r\n\t\t\t  />\r\n\t\t\t<ul className={s.userList}>\r\n\t\t\t  {props.mapUsers()}\r\n\t\t\t</ul>\r\n\t\t\t<button type=\"button\" className={s.button}>\r\n\t\t\t  Load more\r\n\t\t\t</button>\r\n\t\t  </div>\r\n\t\t</div>\r\n\t  );\r\n\t}\r\nexport default UsersPresent;\r\n","/* 1-действие 2-имя редюсера 3-имя операции Мой алгоритм */\r\nexport const getUsersUsers = (state) => {\r\n\treturn state.users.users;\r\n}\r\nexport const getUsersPageSize = (state) => {\r\n\treturn state.users.pageSize;\r\n}\r\nexport const getUsersTotalUsersCount = (state) => {\r\n\treturn state.users.totalUsersCount;\r\n}\r\nexport const getUsersActivePage = (state) => {\r\n\treturn state.users.activePage;\r\n}\r\nexport const getUsersIsfetching = (state) => {\r\n\treturn state.users.isfetching;\r\n}\r\nexport const getUsersIsDisabled = (state) => {\r\n\treturn state.users.isDisabled;\r\n}\r\nexport const getUsersMaxbaselight = (state) => {\r\n\treturn state.users.maxbaselight;\r\n}\r\n","\r\nimport { connect } from \"react-redux\";\r\nimport { getUsersThunk, getUsersActivePageThunk, unfollowThunk, followThunk } from './../../redux/users_reducer';\r\nimport User from \"./User/User\";\r\nimport React from \"react\";\r\nimport UsersPresent from \"./UsersPresent\";\r\nimport { withAuthRedirect } from './../../hoc/withAuthRedirect';\r\nimport { compose } from \"redux\";\r\nimport Preloader from './../global/Preloader/preloader';\r\nimport { getUsersIsDisabled, getUsersUsers, getUsersIsfetching, \r\n\tgetUsersActivePage, getUsersTotalUsersCount, getUsersPageSize, getUsersMaxbaselight } from './../../redux/selectors/users_selectors';\r\n\r\nclass UsersApi extends React.Component {\r\n\tpagesCount = Math.ceil(this.props.totalItemsCount/this.props.pageSize);\r\n\tcomponentDidMount(){\r\n\t\tthis.props.getUsersThunk(this.props.activePage, this.props.pageSize);\r\n\t}\r\n\tclickActivePage = (page) =>{\r\n\t\tif(page<1){return}\r\n\t\tif(page>this.pagesCount){return}\r\n\t\tthis.props.getUsersActivePageThunk(page, this.props.pageSize);\r\n\t}\r\n\tmapUsers = ()=>{\r\n\t  return this.props.users.map((u) => {\r\n\t\t  return <User\r\n\t\t\tkey={u.id}\r\n\t\t\tid={u.id}\r\n\t\t\tname={u.name}\r\n\t\t\tstatus={u.status}\r\n\t\t\tadress={\"u.adress\"}\r\n\t\t\tavatar={\r\n\t\t\t  u.photos.large != null\r\n\t\t\t\t? u.photos.small\r\n\t\t\t\t: \"https://ava-24.com/_ph/98/563228947.jpg\"\r\n\t\t\t}\r\n\t\t\tisfollow={u.followed}\r\n\t\t\tlink={\"/profile/\" + u.id}\r\n\t\t\tisDisabled={this.props.isDisabled}\r\n\t\t\tunfollowThunk={this.props.unfollowThunk}\r\n\t\t\tfollowThunk={this.props.followThunk}\r\n\t\t  />\r\n\t\t})\r\n\t}\r\n  \r\n\trender() {\r\n\t  return <>\r\n\t\t  {this.props.isfetching ? \r\n\t\t\t<Preloader/>\r\n\t\t   : null}\r\n\t\t<UsersPresent \r\n\t\t\t\t\tmapUsers={this.mapUsers}\r\n\t\t\t\t\tclickActivePage={this.clickActivePage}\r\n\t\t\t\t\tactivePage={this.props.activePage}\r\n\t\t\t\t\ttotalUsersCount={this.props.totalUsersCount}\r\n\t\t\t\t\tpageSize={this.props.pageSize}\r\n\t\t\t\t\tisDisabled={this.props.isDisabled}\r\n\t\t\t\t\tmaxbaselight={this.props.maxbaselight}\r\n\t\t/>\r\n\t  </>\r\n\t}\r\n  }\r\n\r\nlet mapStateToProps = (state) =>({\r\n\t\tusers: getUsersUsers(state),\r\n\t\tpageSize: getUsersPageSize(state),\r\n\t\ttotalUsersCount: getUsersTotalUsersCount(state),\r\n\t\tactivePage: getUsersActivePage(state),\r\n\t\tisfetching: getUsersIsfetching(state),\r\n\t\tisDisabled: getUsersIsDisabled(state),\r\n\t\tmaxbaselight: getUsersMaxbaselight(state),\r\n})\r\n\r\nexport default compose(connect(mapStateToProps, {\r\n\tgetUsersThunk,\r\n\tgetUsersActivePageThunk,\r\n\tunfollowThunk,\r\n\tfollowThunk,\r\n}), withAuthRedirect)(UsersApi);\r\n"],"sourceRoot":""}