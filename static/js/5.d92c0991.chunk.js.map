{"version":3,"sources":["components/global/FormControls/FormControls.module.css","utils/validators/validators.js","components/global/FormControls/FormControls.jsx","hoc/withAuthRedirect.js","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/Dialog/Dialog.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/NewMessage/NewMessage.module.css","components/Dialogs/DialogItem/Dialog/Dialog.jsx","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/NewMessage/NewMessage.jsx","components/Dialogs/NewMessage/NewMessageContainer.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","required","value","maxLengthCreator","maxLength","length","FormControls","Element","input","meta","props","hasError","touched","error","className","s","controls","errMessage","mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","Dialog","dialog","row","avatar","href","src","image","alt","block","name","text","DialogItem","dialogsItem","id","link","Message","position","messageblock","messageblock_left","message","messageblock_right","Textarea","maxLength100","LoginFormRedux","reduxForm","form","action","newmessage","onSubmit","handleSubmit","Field","component","textarea","placeholder","validate","btn","NewMessageContainer","formData","console","log","newMessageActionCreator","Dialogs","messagesElems","dialogs","messages","map","dialogsElements","dialogsList","board","compose"],"mappings":"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","file":"static/js/5.d92c0991.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"FormControls_controls__p4CCh\",\"error\":\"FormControls_error__sUN7x\",\"errMessage\":\"FormControls_errMessage__2Pt9T\",\"formError\":\"FormControls_formError__198l9\"};","/* Проверка на заполненность поля */\r\nexport const required = value =>{\r\n\tif(value) return undefined;\r\n\treturn \"field is required\";\r\n}\r\nexport const maxLengthCreator = (maxLength) => (value) =>{\r\n\tif(value && value.length > maxLength) return `Max lenght message is ${maxLength} simbols`\r\n\telse return\r\n}","import s from \"./FormControls.module.css\";\r\n/* Создадим универсальную кампаненту HOC в которую будет предедаваться Element т.е \"input\" и т.п.*/\r\nexport const FormControls = Element => ({input, meta, ...props}) => {\r\n\tconst hasError = meta.touched && meta.error;\r\n\treturn (\r\n\t\t<div className={s.controls +\" \"+ (hasError ? s.error : \"\")}>\r\n\t\t\t<Element {...props} {...input}></Element>\r\n\t\t\t{hasError && <div className={s.errMessage}>{meta.error}</div>}\r\n\t\t</div>\r\n\t)\r\n}","import React from \"react\";\r\nimport { Navigate } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToProps = (state) =>({\r\n\tisAuth: state.auth.isAuth,\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n/* HOC оборачивает переданную в него кампаненту и выплевывает обратно */\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender(){\r\n\t\t\tif(!this.props.isAuth) return <Navigate to={\"/login\"}/>\r\n\t\t\treturn <Component {...this.props}/>\r\n\t\t}\r\n\t}\r\n\tlet ConnectAuthRedirect = connect(mapStateToProps)(RedirectComponent);\r\n\r\n\treturn ConnectAuthRedirect; /* Возвращать она может хоть папу Римского это имя не будет нами использоваться */\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3Oaa9\",\"dialogsList\":\"Dialogs_dialogsList__2jdBr\",\"dialogsItem\":\"Dialogs_dialogsItem__2OAYZ\",\"messages\":\"Dialogs_messages__1ksuk\",\"board\":\"Dialogs_board__npZF7\",\"link\":\"Dialogs_link__3A4N5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__kc4lq\",\"row\":\"Dialog_row__3YehY\",\"avatar\":\"Dialog_avatar__3IB2V\",\"block\":\"Dialog_block__2ZKeg\",\"name\":\"Dialog_name__SNyaa\",\"text\":\"Dialog_text__CGu5u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"Message_row__1TwTB\",\"messageblock\":\"Message_messageblock__3BGNm\",\"messageblock_right\":\"Message_messageblock_right__1EIIQ\",\"messageblock_left\":\"Message_messageblock_left__2vvhB\",\"image\":\"Message_image__3cnW-\",\"message\":\"Message_message__1Zjzg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newmessage\":\"NewMessage_newmessage__3-Aas\",\"textarea\":\"NewMessage_textarea__rQRIX\",\"btn\":\"NewMessage_btn__1Rw9r\"};","import s from \"./Dialog.module.css\";\r\nconst Dialog = (props) => {\r\n  return (\r\n    <div className={s.dialog}>\r\n      <div className={s.row}>\r\n        <div className={s.avatar}>\r\n          <a href=\"#/\">\r\n            <img src={props.image} alt=\"\"></img>\r\n          </a>\r\n        </div>\r\n        <div className={s.block}>\r\n          <div className={s.name}>{props.name}</div>\r\n          <div className={s.text}>{props.text}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Dialog;","import { NavLink } from \"react-router-dom\";\r\nimport Dialog from \"./Dialog/Dialog\";\r\nimport s from \"./../Dialogs.module.css\";\r\n\r\nconst DialogItem = (props) => {\r\n  return (\r\n    <div className={s.dialogsItem}>\r\n      <NavLink to={\"/dialogs/\" + props.id} className={s.link}>\r\n        <div className={s.dialog}></div>\r\n      </NavLink>\r\n      <Dialog name={props.name} image={props.image} text={props.text} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DialogItem;","import s from \"./Message.module.css\";\r\n\r\nconst Message = (props) => {\r\n  return (\r\n\t <div className={s.row}>\r\n\t \t {props.position === \"left\" ? \r\n\t\t\t<div className={s.messageblock + \" \" + s.messageblock_left}>\r\n\t\t\t\t<a href={props.link} className={s.image}>\r\n\t\t\t\t\t<img src={props.image} alt=\"\"></img>\r\n\t\t\t\t</a>\r\n\t\t\t\t<div className={s.message}>{props.message}</div>\r\n\t\t\t</div>\r\n\t\t\t:\r\n\t\t\t<div className={s.messageblock + \" \" + s.messageblock_right}>\r\n\t\t\t<a href={props.link} className={s.image}>\r\n\t\t\t\t<img src={props.image} alt=\"\"></img>\r\n\t\t\t</a>\r\n\t\t\t<div className={s.message}>{props.message}</div>\r\n\t\t</div>\r\n\t\t}\r\n\t </div>\r\n\t\r\n  );\r\n};\r\n\r\nexport default Message;","import s from \"./NewMessage.module.css\";\r\nimport  React  from 'react';\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { required, maxLengthCreator } from './../../../utils/validators/validators';\r\nimport { FormControls } from '../../global/FormControls/FormControls';\r\n\r\nconst Textarea = FormControls(\"textarea\");\r\n\r\n\r\nlet maxLength100 = maxLengthCreator(100);\r\nconst NewMessage = (props) => {\r\n\r\n  return (\r\n    <form action=\"\" className={s.newmessage} onSubmit={props.handleSubmit}>\r\n      <Field\r\n\t  component={Textarea}\r\n        name=\"message\"\r\n        className={s.textarea}\r\n\t\tplaceholder=\"new message\"\r\n\t\tvalidate={[required, maxLength100]}\r\n      ></Field>\r\n      <button className={s.btn}>\r\n        Send\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\nconst LoginFormRedux = reduxForm({\r\n\t// a unique name for the form\r\n  form: 'message'\r\n})(NewMessage)\r\nexport default LoginFormRedux;\r\n","import LoginFormRedux from './NewMessage';\r\n\r\nconst NewMessageContainer = (props) => {\r\n\tconst onSubmit = (formData) => {\r\n\t\tconsole.log(formData);\r\n\t\tprops.newMessageActionCreator(formData.message);\r\n\t\tformData.message = \"\";\r\n\t}\r\n  return (\r\n\t<LoginFormRedux onSubmit={onSubmit}/>\r\n  );\r\n};\r\n\r\nexport default NewMessageContainer;\r\n","import s from \"./Dialogs.module.css\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport NewMessageContainer from './NewMessage/NewMessageContainer';\r\n/* import { Navigate } from 'react-router-dom'; */\r\n\r\nconst Dialogs = (props) => {\r\nlet messagesElems = props.dialogs.messages.map((message) => {\r\n\treturn (\r\n\t  <Message\r\n\t\tposition={message.position}\r\n\t\tmessage={message.message}\r\n\t\timage={message.image}\r\n\t\tlink={message.link}\r\n\t\tkey={message.id}\r\n\t  />\r\n\t);\r\n  });\r\n  let dialogsElements = props.dialogs.dialogs.map((dialog) => {\r\n\treturn (\r\n\t  <DialogItem\r\n\t\tkey={dialog.id}\r\n\t\tid={dialog.id}\r\n\t\tname={dialog.name}\r\n\t\timage={dialog.image}\r\n\t\ttext={dialog.text}\r\n\t  />\r\n\t);\r\n  });\r\n\r\n  return (\r\n    <div className={s.dialogs}>\r\n      <div className={s.dialogsList}>{dialogsElements}</div>\r\n      <div className={s.board}>\r\n        <div className={s.messages}>{messagesElems}</div>\r\n\t\t\t<NewMessageContainer newMessageActionCreator={props.newMessageActionCreator}/>\r\n      </div>\r\n    </div>\r\n\t\r\n  );\r\n  \r\n};\r\nexport default Dialogs;","import Dialogs from \"./Dialogs\";\r\nimport { connect } from \"react-redux\";\r\nimport { withAuthRedirect } from './../../hoc/withAuthRedirect';\r\nimport { compose } from \"redux\";\r\nimport {newMessageActionCreator} from \"./../../redux/dialogs_reducer\";\r\n\r\n/* Подключение RR */\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    dialogs: state.dialogs,\r\n  };\r\n};\r\n\r\nexport default compose(connect(mapStateToProps,{newMessageActionCreator}),\r\n\t\t\t\t\t\twithAuthRedirect)(Dialogs);\r\n"],"sourceRoot":""}