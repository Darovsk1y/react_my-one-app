(this["webpackJsonpmy-one-app"]=this["webpackJsonpmy-one-app"]||[]).push([[4],{224:function(e,a,t){e.exports={controls:"FormControls_controls__p4CCh",error:"FormControls_error__sUN7x",errMessage:"FormControls_errMessage__2Pt9T",formError:"FormControls_formError__198l9"}},225:function(e,a,t){"use strict";t.d(a,"b",(function(){return s})),t.d(a,"a",(function(){return c}));var s=function(e){if(!e)return"field is required"},c=function(e){return function(a){return a&&a.length>e?"Max lenght message is ".concat(e," simbols"):void 0}}},226:function(e,a,t){"use strict";t.d(a,"a",(function(){return l}));var s=t(3),c=t(235),r=t(224),n=t.n(r),i=t(1),o=["input","meta"],l=function(e){return function(a){var t=a.input,r=a.meta,l=Object(c.a)(a,o),j=r.touched&&r.error;return Object(i.jsxs)("div",{className:n.a.controls+" "+(j?n.a.error:""),children:[Object(i.jsx)(e,Object(s.a)(Object(s.a)({},l),t)),j&&Object(i.jsx)("div",{className:n.a.errMessage,children:r.error})]})}}},228:function(e,a,t){"use strict";t.d(a,"a",(function(){return d}));var s=t(3),c=t(33),r=t(34),n=t(36),i=t(35),o=t(0),l=t.n(o),j=t(4),u=t(15),m=t(1),b=function(e){return{isAuth:e.auth.isAuth}},d=function(e){var a=function(a){Object(n.a)(o,a);var t=Object(i.a)(o);function o(){return Object(c.a)(this,o),t.apply(this,arguments)}return Object(r.a)(o,[{key:"render",value:function(){return this.props.isAuth?Object(m.jsx)(e,Object(s.a)({},this.props)):Object(m.jsx)(j.a,{to:"/login"})}}]),o}(l.a.Component);return Object(u.b)(b)(a)}},229:function(e,a,t){e.exports={info:"UserInfo_info__c2A-i",line:"UserInfo_line__2MP7x",param:"UserInfo_param__3a9vc",form:"UserInfo_form__qN9OM",param_name:"UserInfo_param_name__1y8w7",answer:"UserInfo_answer__2HAll",answer_name:"UserInfo_answer_name__3Giso",iconJob:"UserInfo_iconJob__1-GsI",status:"UserInfo_status__xRiKQ",param_input:"UserInfo_param_input__3aDvr",param_checkboxBlock:"UserInfo_param_checkboxBlock__2JNyc",param_checkbox:"UserInfo_param_checkbox__1ZrRy",button:"UserInfo_button__YZNMN"}},248:function(e,a,t){e.exports={posts:"UserPosts_posts__2p8rN",new:"UserPosts_new__1FB1T",form:"UserPosts_form__qbMRJ",textarea:"UserPosts_textarea__YruvQ",btn:"UserPosts_btn__2icsz"}},251:function(e,a,t){e.exports={image:"MainImage_image__3u2z4"}},252:function(e,a,t){e.exports={body:"Profile_body__38odf"}},253:function(e,a,t){e.exports={avatarBlock:"UserAvatar_avatarBlock__2koHc",avatar:"UserAvatar_avatar__2hCBR",loadAvatar:"UserAvatar_loadAvatar__21RI-"}},254:function(e,a,t){e.exports={header:"UserHeader_header__1e1ih",editMode:"UserHeader_editMode__1Z0_r"}},298:function(e,a,t){e.exports={user:"User_user__1Qhtu",block:"User_block__m-PXE"}},299:function(e,a,t){e.exports={like:"Like_like__1Msuz",image:"Like_image__1VyJO"}},300:function(e,a,t){e.exports={post:"Post_post__1vPbH",row:"Post_row__k6tk0",block:"Post_block__3e-Lk",avatar:"Post_avatar__33K2K",name:"Post_name__1H9dT",text:"Post_text__1zuid"}},301:function(e,a,t){e.exports={posts:"PostsOld_posts__1q2eG"}},315:function(e,a,t){"use strict";t.r(a);var s=t(251),c=t.n(s),r=t(1),n=function(){return Object(r.jsx)("div",{className:c.a.image,children:Object(r.jsx)("img",{src:"https://i.imgur.com/Wt2zf01.png",alt:""})})},i=t(252),o=t.n(i),l=t(3),j=t(33),u=t(34),m=t(36),b=t(35),d=t(0),p=t.n(d),h=t(22),O=t(253),x=t.n(O),_=function(e){return Object(r.jsxs)("div",{className:x.a.avatarBlock,children:[Object(r.jsx)("a",{href:"$/",className:x.a.avatar,children:e.avatar?Object(r.jsx)("img",{src:e.avatar,alt:""}):Object(r.jsx)("div",{className:"",children:Object(r.jsx)("img",{src:"https://i0.wp.com/slovami.net/wp-content/uploads/2018/04/1-36-1024x1024.jpg",alt:""})})}),e.isOwner&&e.editMode?Object(r.jsx)("input",{type:"file",className:x.a.loadAvatar,placeholder:"file",onChange:function(a){a.target.files.length&&e.savePhotoThunk(a.target.files[0])}}):""]})},f=t(229),v=t.n(f),N=function(e){var a=e.contactTitle,t=e.contactValue;return Object(r.jsx)("div",{className:"",children:t?Object(r.jsxs)("div",{className:v.a.line,children:[Object(r.jsx)("div",{className:v.a.param,children:a}),Object(r.jsx)("a",{href:t,className:v.a.answer,children:t})]}):""})},k=function(e){var a=Object(d.useState)(!1),t=Object(h.a)(a,2),s=t[0],c=t[1],n=Object(d.useState)(e.status),i=Object(h.a)(n,2),o=i[0],l=i[1];Object(d.useEffect)((function(){l(e.status)}),[e.status]);return Object(r.jsx)("div",{className:v.a.status,children:s?Object(r.jsx)("div",{children:Object(r.jsx)("input",{autoFocus:!0,onChange:function(e){l(e.currentTarget.value)},onBlur:function(){c(!1),e.updateStatusThusk(o)},value:o})}):Object(r.jsx)("div",{children:Object(r.jsx)("span",{onDoubleClick:function(){c(!0)},children:e.status||"----"})})})},g=function(e){var a=e.status,t=e.profile,s=e.updateStatusThusk;return Object(r.jsxs)("div",{className:v.a.info,children:[Object(r.jsxs)("div",{className:v.a.line,children:[Object(r.jsx)("div",{className:v.a.param+" "+v.a.param_name,children:"name"}),Object(r.jsx)("div",{className:v.a.answer+" "+v.a.answer_name,children:t.fullName})]}),Object(r.jsx)(k,{status:a,updateStatusThusk:s}),Object(r.jsxs)("div",{className:v.a.line,children:[Object(r.jsx)("div",{className:v.a.param,children:"city"}),Object(r.jsx)("div",{className:v.a.answer,children:t.city?t.city:"Gotham City"})]}),t.aboutMe?Object(r.jsxs)("div",{className:v.a.line,children:[Object(r.jsx)("div",{className:v.a.param,children:"About Me"}),Object(r.jsx)("div",{className:v.a.answer,children:t.aboutMe})]}):"",Object(r.jsxs)("div",{className:v.a.line,children:[Object(r.jsx)("div",{className:v.a.param,children:"Looking for a job"}),t.lookingForAJob?Object(r.jsx)("div",{className:v.a.answer,children:Object(r.jsx)("img",{src:"https://www.aura.ge/uploads/gantvirtva/didi_smailebi/samili.162.gif",alt:"",className:v.a.iconJob})}):Object(r.jsx)("div",{className:v.a.answer,children:Object(r.jsx)("img",{src:"https://www.aura.ge/uploads/gantvirtva/didi_smailebi/samili.161.gif",alt:"",className:v.a.iconJob})})]}),Object(r.jsxs)("div",{className:v.a.line,children:[Object(r.jsx)("div",{className:v.a.param}),Object(r.jsx)("div",{className:v.a.answer,children:t.lookingForAJobDescription})]}),Object(r.jsx)("div",{className:v.a.param,children:"contacts: "}),Object.keys(t.contacts).map((function(e){return Object(r.jsx)(N,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})},w=t(254),y=t.n(w),P=t(224),U=t.n(P),T=t(103),M=t(104),I=t(226),A=t(225),S=Object(I.a)("input"),C=Object(I.a)("textarea"),F=Object(A.a)(30),J=Object(M.a)({form:"profile"})((function(e){var a=e.handleSubmit,t=e.status,s=e.profile,c=e.error;return Object(r.jsxs)("form",{className:v.a.form,onSubmit:a,children:[Object(r.jsxs)("div",{className:v.a.line,children:[Object(r.jsx)("div",{className:v.a.param+" "+v.a.param_name,children:"name"}),Object(r.jsx)(T.a,{component:S,className:v.a.param+" "+v.a.param_name+" "+v.a.param_input,type:"text",name:"fullName",validate:[F],placeholder:s.fullName})]}),Object(r.jsx)("div",{className:v.a.status,children:t}),Object(r.jsxs)("div",{className:v.a.line,children:[Object(r.jsx)("div",{className:v.a.param,children:"city"}),Object(r.jsx)(T.a,{component:S,className:v.a.answer+" "+v.a.param_input,type:"text",name:"city",validate:[F],placeholder:s.city})]}),Object(r.jsxs)("div",{className:v.a.line,children:[Object(r.jsx)("div",{className:v.a.param,children:"About Me"}),Object(r.jsx)(T.a,{component:C,className:v.a.answer+" "+v.a.param_input,type:"text",name:"aboutMe",placeholder:s.aboutMe})]}),Object(r.jsxs)("div",{className:v.a.line,children:[Object(r.jsx)("div",{className:v.a.param,children:"Looking for a job"}),Object(r.jsx)("div",{className:v.a.answer+" "+v.a.param_checkboxBlock,children:Object(r.jsx)(T.a,{component:S,className:v.a.param_checkbox,type:"checkbox",name:"lookingForAJob"})})]}),Object(r.jsxs)("div",{className:v.a.line,children:[Object(r.jsx)("div",{className:v.a.param,children:"Looking for a job Description"}),Object(r.jsx)(T.a,{component:C,className:v.a.answer+" "+v.a.param_input,type:"text",name:"lookingForAJobDescription",placeholder:s.lookingForAJobDescription})]}),Object(r.jsx)("div",{className:v.a.line,children:Object(r.jsx)("div",{className:v.a.param,children:"contacts: "})}),Object.keys(s.contacts).map((function(e){return Object(r.jsxs)("div",{className:v.a.line,children:[Object(r.jsx)("div",{className:v.a.param,children:e}),Object(r.jsx)(T.a,{component:S,className:v.a.answer+" "+v.a.param_input,type:"text",name:"contacts.".concat(e),placeholder:s.contacts[e]})]},e)})),c?Object(r.jsx)("div",{className:U.a.formError,children:c}):"",Object(r.jsx)("button",{className:v.a.button,type:"submit",children:"Save"})]})})),B=function(e){var a=Object(d.useState)(!1),t=Object(h.a)(a,2),s=t[0],c=t[1],n=function(){c(!s)};return Object(r.jsxs)("div",{className:y.a.header,children:[Object(r.jsx)(_,{avatar:e.profile.photos.large,isOwner:e.isOwner,savePhotoThunk:e.savePhotoThunk,editMode:s}),e.isOwner&&!s?Object(r.jsx)("button",{type:"button",className:y.a.editMode,onClick:n,children:"edit"}):"",e.isOwner&&s?Object(r.jsx)("button",{type:"button",className:y.a.editMode,onClick:n,children:"edit mode exit"}):"",s?Object(r.jsx)(J,Object(l.a)(Object(l.a)({},e),{},{initialValues:e.profile,onSubmit:function(a){console.log(a),e.setFormThunk(a).then((function(){c(!1)}))}})):Object(r.jsx)(g,Object(l.a)({},e))]})},D=t(298),H=t.n(D),L=t(57),z=t(299),E=t.n(z),R=function(e){return Object(r.jsxs)("button",{type:"button",className:E.a.like,children:[Object(r.jsx)("span",{children:e.likes}),Object(r.jsx)("div",{className:E.a.image,children:Object(r.jsx)("img",{src:"https://pngicon.ru/file/uploads/like.png",alt:""})})]})},q=t(300),G=t.n(q),V=t(11),K=function(e){return Object(r.jsxs)("div",{className:G.a.post,children:[Object(r.jsxs)("div",{className:G.a.row,children:[Object(r.jsx)("div",{className:G.a.avatar,children:Object(r.jsx)(V.b,{to:e.link,children:Object(r.jsx)("img",{src:e.avatar,alt:""})})}),Object(r.jsxs)("div",{className:G.a.block,children:[Object(r.jsx)("div",{className:G.a.name,children:e.name}),Object(r.jsx)("div",{className:G.a.text,children:e.text})]})]}),Object(r.jsx)(R,{likes:e.likes})]})},Q=t(301),Z=t.n(Q),Y=function(e){var a=e.posts.map((function(e){return Object(r.jsx)(K,{likes:e.likes,name:e.name,avatar:e.avatar,text:e.text,link:e.link},e.id)}));return Object(r.jsx)("div",{className:Z.a.posts,children:a})},W=t(248),X=t.n(W),$=Object(I.a)("textarea"),ee=Object(A.a)(10),ae=function(e){return Object(r.jsxs)("form",{className:X.a.form,onSubmit:e.handleSubmit,children:[Object(r.jsx)(T.a,{component:$,name:"textarea",className:X.a.textarea,validate:[A.b,ee],placeholder:"add message"}),Object(r.jsx)("button",{className:X.a.btn,children:"Send"})]})},te=Object(M.a)({form:"post"})(ae),se=function(e){return Object(r.jsxs)("div",{className:X.a.posts,children:["My Posts",Object(r.jsx)("div",{className:X.a.new,children:Object(r.jsx)(te,Object(l.a)(Object(l.a)({},e),{},{onSubmit:function(a){e.newPostActionCreator(a.textarea),a.textarea=""}}))}),Object(r.jsx)(Y,{posts:e.posts})]})},ce=t(15),re=Object(ce.b)((function(e){return{posts:e.profile.posts}}),{newPostActionCreator:L.c})(se),ne=t(52),ie=function(e){return e.profile?Object(r.jsxs)("div",{className:H.a.user,children:[Object(r.jsx)(B,Object(l.a)({},e)),Object(r.jsx)("div",{className:H.a.block,children:Object(r.jsx)(re,{})})]}):Object(r.jsx)(ne.a,{})},oe=t(4),le=t(228),je=t(30),ue=function(e){Object(m.a)(t,e);var a=Object(b.a)(t);function t(){return Object(j.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"refreshProfile",value:function(){var e=this.props.match?this.props.match.params.userId:this.props.auth.id;this.props.getProfileThusk(e),this.props.setStatusThusk(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,a,t){this.props.match&&this.props.match.params.userId!==e.match.params.userId?this.refreshProfile():this.props.match||this.props.match===e.match||this.refreshProfile()}},{key:"render",value:function(){return this.props.profile&&(this.props.auth.id===this.props.profile.userId?this.isOwner=!0:this.isOwner=!1),Object(r.jsx)(ie,{profile:this.props.profile,updateStatusThusk:this.props.updateStatusThusk,status:this.props.status,isOwner:this.isOwner,savePhotoThunk:this.props.savePhotoThunk,setFormThunk:this.props.setFormThunk})}}]),t}(p.a.Component),me=Object(je.d)(Object(ce.b)((function(e){return{profile:e.profile.profile,auth:e.auth,status:e.profile.status}}),{getProfileThusk:L.b,setStatusThusk:L.f,updateStatusThusk:L.g,savePhotoThunk:L.d,setFormThunk:L.e}),le.a)((function(e){var a=Object(oe.g)("/profile/:userId");return Object(r.jsx)(ue,Object(l.a)(Object(l.a)({},e),{},{match:a}))}));a.default=function(e){return Object(r.jsxs)("div",{className:o.a.main,children:[Object(r.jsx)(n,{}),Object(r.jsx)("div",{className:o.a.body,children:Object(r.jsx)(me,{})})]})}}}]);
//# sourceMappingURL=4.624ac0b2.chunk.js.map